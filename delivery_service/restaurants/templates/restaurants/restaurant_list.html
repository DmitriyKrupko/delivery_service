{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</title>
    <link rel="stylesheet" href="{% static 'restaurants/css/styles.css' %}">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <header>
        <nav>
            <ul>
                <li><a href="{% url 'home' %}">–ì–ª–∞–≤–Ω–∞—è</a></li>
                {% if user.is_authenticated %}
                    <li><a href="{% url 'profile' %}">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                    <li>
                        <form action="{% url 'logout' %}" method="post" style="display: inline;">
                        {% csrf_token %}
                        <button type="submit" style="...">–í—ã–π—Ç–∏</button>
                        </form>
                    </li>
                {% else %}
                    <li><a href="{% url 'login' %}">–í–æ–π—Ç–∏</a></li>
                    <li><a href="{% url 'register' %}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
                {% endif %}
                <li><a href="{% url 'restaurant_list' %}">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <h1>–ù–∞—à–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</h1>
        <div class="restaurant-list">
            {% for restaurant in restaurants %}
                <div class="restaurant-card">
                    <a href="{% url 'dish_list' restaurant.id %}">
                        {% if restaurant.logo %}
                            <img src="{{ restaurant.logo.url }}" alt="{{ restaurant.name }}" class="restaurant-logo">
                        {% endif %}
                        <h2>{{ restaurant.name }}</h2>
                    </a>
                    
                    <!-- –£–¥–∞–ª—è–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫—É—Ö–Ω–∏ -->
                    {% if restaurant.cuisine_type %}
                        <p class="cuisine-type">{{ restaurant.cuisine_type }}</p>
                    {% endif %}
                    
                    <!-- –í—ã–≤–æ–¥–∏–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –±–∞–∑—ã -->
                    <p class="description">{{ restaurant.description }}</p>
                    
                    <div class="restaurant-meta">
                        <!-- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥, –µ—Å–ª–∏ –µ—Å—Ç—å –≤ –º–æ–¥–µ–ª–∏ -->
                        <span class="rating">{{ restaurant.rating|default:"4.5" }} ‚òÖ ({{ restaurant.reviews_count|default:"100+" }})</span>
                        <span class="delivery-info">
                            {% if restaurant.delivery_time %}
                                {{ restaurant.delivery_time }} –º–∏–Ω ‚Ä¢
                            {% else %}
                                30-45 –º–∏–Ω ‚Ä¢
                            {% endif %}
                            –æ—Ç {{ restaurant.min_order|default:"15" }} —Ä—É–±
                        </span>
                    </div>
                    
                    <p>üìç {{ restaurant.address }}</p>
                    <p>üìû {{ restaurant.phone }}</p>
                    
                    <!-- –£–¥–∞–ª—è–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ highlights –∏–ª–∏ –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã -->
                    {% if restaurant.highlights %}
                        <ul class="highlights">
                            {% for highlight in restaurant.highlights.all %}
                                <li>‚úì {{ highlight.text }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>

    <footer>
        <p>&copy; 2023 FoodDelivery. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>
</body>
</html>